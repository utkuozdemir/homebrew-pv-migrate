# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class PvMigrate < Formula
  desc "Persistent volume migration plugin for Kubernetes"
  homepage "https://github.com/utkuozdemir/pv-migrate"
  version "0.10.6"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/utkuozdemir/pv-migrate/releases/download/v0.10.6/pv-migrate_v0.10.6_darwin_x86_64.tar.gz"
      sha256 "09f91b243588fe0b2abf664990958743bb5d9089127ed34246ee08e7cbba8881"

      def install
        bin.install "pv-migrate"
        bash_completion.install "completions/pv-migrate.bash" => "pv-migrate"
        zsh_completion.install "completions/pv-migrate.zsh" => "_pv-migrate"
        fish_completion.install "completions/pv-migrate.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/utkuozdemir/pv-migrate/releases/download/v0.10.6/pv-migrate_v0.10.6_darwin_arm64.tar.gz"
      sha256 "399e6842f233f409cd18a5bbee82b3ca5a550534a05e59adaa17b1627dbefe35"

      def install
        bin.install "pv-migrate"
        bash_completion.install "completions/pv-migrate.bash" => "pv-migrate"
        zsh_completion.install "completions/pv-migrate.zsh" => "_pv-migrate"
        fish_completion.install "completions/pv-migrate.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/utkuozdemir/pv-migrate/releases/download/v0.10.6/pv-migrate_v0.10.6_linux_x86_64.tar.gz"
      sha256 "547ceeab1f807cf73fd1813091e8d99020e6ead0cb7dcafff329eb6b7741dc7a"

      def install
        bin.install "pv-migrate"
        bash_completion.install "completions/pv-migrate.bash" => "pv-migrate"
        zsh_completion.install "completions/pv-migrate.zsh" => "_pv-migrate"
        fish_completion.install "completions/pv-migrate.fish"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/utkuozdemir/pv-migrate/releases/download/v0.10.6/pv-migrate_v0.10.6_linux_armv7.tar.gz"
      sha256 "48a3a603e015bbaac4a1fab674e300906dcc90d26cfba3d95a2cf605f44ac1d5"

      def install
        bin.install "pv-migrate"
        bash_completion.install "completions/pv-migrate.bash" => "pv-migrate"
        zsh_completion.install "completions/pv-migrate.zsh" => "_pv-migrate"
        fish_completion.install "completions/pv-migrate.fish"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/utkuozdemir/pv-migrate/releases/download/v0.10.6/pv-migrate_v0.10.6_linux_arm64.tar.gz"
      sha256 "6c3c751fcf0826973d39edb8304bf40b736170b42e5baecd546795b5bb6fc0cd"

      def install
        bin.install "pv-migrate"
        bash_completion.install "completions/pv-migrate.bash" => "pv-migrate"
        zsh_completion.install "completions/pv-migrate.zsh" => "_pv-migrate"
        fish_completion.install "completions/pv-migrate.fish"
      end
    end
  end

  test do
    system "#{bin}/pv-migrate -v"
  end
end
